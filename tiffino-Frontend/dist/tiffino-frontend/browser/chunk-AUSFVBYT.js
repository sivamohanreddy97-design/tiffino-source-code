import{b as n}from"./chunk-IH6BUKFD.js";import{U as s,Z as a,bb as h,k as r}from"./chunk-CYS3UGLZ.js";var m=(()=>{class i{constructor(t){this.http=t,this.apiurl="http://localhost:8920",this.searchTermSubject=new r(""),this.searchTerm$=this.searchTermSubject.asObservable(),this._cartLength=h(0),this.cartLength=this._cartLength.asReadonly()}setSearchTerm(t){this.searchTermSubject.next(t)}setCartLength(t){this._cartLength.set(t)}allcusines(){return this.http.get(`${this.apiurl}/cuisines/getall`)}cusinesbyid(t){return this.http.get(`${this.apiurl}/cuisines/${t}`)}addCuisine(t){return this.http.post(`${this.apiurl}/cuisines/createCuisine`,t)}deletecusinebyid(t){return this.http.delete(`${this.apiurl}/cuisines/${t}`)}getAllRegions(){return this.http.get(`${this.apiurl}/regions/getall`)}getStatesByRegion(t){return this.http.get(`${this.apiurl}/states/region/${t}`)}getCuisinesByState(t){return this.http.get(`${this.apiurl}/cuisines/state/${t}`)}getAllStates(){return this.http.get(`${this.apiurl}/states/getall`)}getallcities(){return this.http.get(`${this.apiurl}/cities/getall`)}getcitybystateid(t){return this.http.get(`${this.apiurl}/cities/state/${t}`)}addToCart(t,e,u=1){return this.http.post(`${this.apiurl}/cart/add`,{userId:t,cuisine_id:e,quantity:u})}updateCartLengthFromServer(t){this.getCart(t).subscribe(e=>{this.setCartLength(e.length)})}getCart(t){return this.http.get(`${this.apiurl}/cart/${t}`)}updateItem(t,e){return this.http.put(`${this.apiurl}/cart/update/${t}?quantity=${e}`,{})}removeItem(t){return this.http.delete(`${this.apiurl}/cart/remove/${t}`)}clearCart(t){return Promise.all(t.map(e=>this.removeItem(e.itemId).toPromise())).then(()=>{this.setCartLength(0)})}static{this.\u0275fac=function(e){return new(e||i)(a(n))}}static{this.\u0275prov=s({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();export{m as a};
